---
title: "OCR Processing"
description: "A comprehensive guide to processing documents using ClaimMind's OCR capabilities, including PII extraction and full markdown conversion."
---

## Overview

This guide outlines the process of inserting a new claim into the system, including processing Personally Identifiable Information (PII) using OCR and saving the claim details.

### Prerequisites
*   An authenticated `access_token`.
*   A base64 encoded document containing claim information.

<Steps>
<Step title="1. Create a New Claim">
Initiate a new claim record in the system by providing a unique `claim_id` and an optional `claim_code`.

<CodeGroup>
```bash
curl -X POST "{api_base_url}/v1/claims/create" \
-H "Authorization: Bearer YOUR_ACCESS_TOKEN" \
-H "Content-Type: application/json" \
-d '{
  "claim_id": "a1b2c3d4-e5f6-7890-1234-567890abcdef",
  "claim_code": "NEW-CLAIM-001"
}'
```

```python
import requests
import uuid

api_base_url = "{api_base_url}" # Replace with your actual API base URL
access_token = "YOUR_ACCESS_TOKEN" # Replace with your actual access token

claim_data = {
    "claim_id": str(uuid.uuid4()), # Generate a unique UUID for the claim_id
    "claim_code": "NEW-CLAIM-001"
}

response = requests.post(
    f"{api_base_url}/v1/claims/create",
    json=claim_data,
    headers={
        "Authorization": f"Bearer {access_token}",
        "Content-Type": "application/json"
    }
)
response_json = response.json()
claim_id = response_json.get("claim_id")
workflow_id = response_json.get("workflow_id")
print(f"Created Claim ID: {claim_id}, Workflow ID: {workflow_id}")
```
</CodeGroup>

<RequestExample>
```json
{
  "claim_id": "a1b2c3d4-e5f6-7890-1234-567890abcdef",
  "claim_code": "NEW-CLAIM-001"
}
```
</RequestExample>

<ResponseExample>
```json
{
  "claim_id": "a1b2c3d4-e5f6-7890-1234-567890abcdef",
  "tenant_id": "your-tenant-id",
  "status": "success",
  "message": "Claim created successfully",
  "workflow_id": "some-workflow-id",
  "result": {}
}
```
</ResponseExample>

<Check>
You should receive a `200 OK` response with the new claim's `claim_id` and `workflow_id`.
</Check>
</Step>

<Step title="2. Process OCR for PII">
Submit the claim document for OCR processing to extract Personally Identifiable Information (PII). This step is crucial for handling sensitive data securely.

<CodeGroup>
```bash
curl -X POST "{api_base_url}/v1/workflows/ocr/pii/create" \
-H "Authorization: Bearer YOUR_ACCESS_TOKEN" \
-H "Content-Type: application/json" \
-d '{
  "claim_id": "a1b2c3d4-e5f6-7890-1234-567890abcdef",
  "base64": "BASE64_ENCODED_DOCUMENT_DATA"
}'
```

```python
import requests

api_base_url = "{api_base_url}" # Replace with your actual API base URL
access_token = "YOUR_ACCESS_TOKEN" # Replace with your actual access token
claim_id = "a1b2c3d4-e5f6-7890-1234-567890abcdef" # Use the claim_id from Step 1
base64_document = "BASE64_ENCODED_DOCUMENT_DATA" # Replace with your actual base64 document data

ocr_pii_data = {
    "claim_id": claim_id,
    "base64": base64_document
}

response = requests.post(
    f"{api_base_url}/v1/workflows/ocr/pii/create",
    json=ocr_pii_data,
    headers={
        "Authorization": f"Bearer {access_token}",
        "Content-Type": "application/json"
    }
)
response_json = response.json()
print(f"OCR for PII Triggered. Response: {response_json}")
```
</CodeGroup>

<RequestExample>
```json
{
  "claim_id": "a1b2c3d4-e5f6-7890-1234-567890abcdef",
  "base64": "BASE64_ENCODED_DOCUMENT_DATA"
}
```
</RequestExample>

<ResponseExample>
```json
{
  "claim_id": "a1b2c3d4-e5f6-7890-1234-567890abcdef",
  "tenant_id": "your-tenant-id",
  "status": "success",
  "message": "OCR PII workflow initiated successfully",
  "workflow_id": "some-workflow-id",
  "result": {}
}
```
</ResponseExample>

<Check>
You should receive a `200 OK` response indicating the PII OCR workflow has been initiated.
</Check>
</Step>

<Step title="3. Process OCR into Markdown">
After PII extraction, you can proceed with a general OCR process to convert the entire document into a structured markdown format. This markdown output can then be used for further processing, such as ICD or INACBG.

<CodeGroup>
```bash
curl -X POST "{api_base_url}/v1/workflows/ocr/create" \
-H "Authorization: Bearer YOUR_ACCESS_TOKEN" \
-H "Content-Type: application/json" \
-d '{
  "claim_id": "a1b2c3d4-e5f6-7890-1234-567890abcdef",
  "base64_list": ["BASE64_ENCODED_DOCUMENT_DATA"]
}'
```

```python
import requests

api_base_url = "{api_base_url}" # Replace with your actual API base URL
access_token = "YOUR_ACCESS_TOKEN" # Replace with your actual access token
claim_id = "a1b2c3d4-e5f6-7890-1234-567890abcdef" # Use the claim_id from Step 1
base64_document = "BASE64_ENCODED_DOCUMENT_DATA" # Replace with your actual base64 document data

ocr_full_data = {
    "claim_id": claim_id,
    "base64_list": [base64_document]
}

response = requests.post(
    f"{api_base_url}/v1/workflows/ocr/create",
    json=ocr_full_data,
    headers={
        "Authorization": f"Bearer {access_token}",
        "Content-Type": "application/json"
    }
)
response_json = response.json()
print(f"OCR Full Workflow Triggered. Response: {response_json}")
```
</CodeGroup>

<RequestExample>
```json
{
  "claim_id": "a1b2c3d4-e5f6-7890-1234-567890abcdef",
  "base64_list": ["BASE64_ENCODED_DOCUMENT_DATA"]
}
```
</RequestExample>

<ResponseExample>
```json
{
  "claim_id": "a1b2c3d4-e5f6-7890-1234-567890abcdef",
  "workflow_id": "some-workflow-id",
  "result": "# Document Title\n\nThis is the markdown content extracted from the document.",
  "version": 1
}
```
</ResponseExample>

<Check>
You should receive a `200 OK` response with the `claim_id`, `workflow_id`, and the extracted `result` in markdown format.
</Check>
</Step>
</Steps>

